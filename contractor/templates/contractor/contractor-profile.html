{% extends "base.html" %}

{% block title %}
| Contractor Profile
{% endblock %}

{% block extenalcss %}
{% load static %}
<!-- datatables  -->
<link rel="stylesheet" type="text/css" href="{% static 'css/responsive.bootstrap4.min.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/buttons.dataTables.min.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/media.css' %}">
{% endblock %}

{% block content %}
{% load static %}
<div id="pcoded" class="pcoded">
  <div class="pcoded-overlay-box"> </div>
  <div class="pcoded-container navbar-wrapper">

	{% include "contractor/header.html" %}
	
    <div class="pcoded-main-container">
		<div class="pcoded-wrapper">
			
			{% include "contractor/navbar.html" %}
			
			<div class="pcoded-content">
				<div class="page-header card">
					<div class="row align-items-end">
						<div class="col-lg-8">
							<div class="page-header-title">
								<div class="d-inline">
									<h5><a href="/contractor/dashboard/"><i class="icofont icofont-simple-left"></i></a>{{contra.name}}</h5>
								</div>
							</div>
						</div>
						<div class="col-lg-4">
							
						</div>
					</div>
				</div>
				<div class="page-header card">
					<div class="card">
						<div class="card-block">
							<form action="" method="post" enctype="multipart/form-data">
								<div class="prof-pic-part">
									<div class="prof-pic-img">
										{% if not contra.profile_photo %}
										<img src="{% static 'img/noimage.png' %}" class="show_contra_add_image" alt="">
										{% else %}
										<img src="{{contra.profile_photo.url}}" class="show_contra_add_image" alt="">
										{% endif %}
									</div>
									<div class="prof-pic-btn">
										<input type="file" name="contractor_image" class="contra_add_image">
										<span><i class="icofont icofont-camera-alt"></i></span>
									</div>
								</div>
								<div class="user-prof-one-part clearfix">
									
										{% csrf_token %}
										<div class="text v-product-top">
											<div class="row">
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Name</label>
															<div class="col-sm-8">
																<input type="text" name="name" id="name" class="form-control" value="{{contra.name}}" required placeholder="Name">
															</div>
													</div>
												</div>
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Email Address</label>
															<div class="col-sm-8">
																<h4>{{contra.email}}</h4>
															</div>
													</div>
												</div>
											</div>
											<div class="row">
												
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Contract Number</label>
															<div class="col-sm-8">
																<input type="text" name="contact" id="contact" class="form-control" value="{{contra.contact}}" required placeholder="For ex. 1234567890">
															</div>
													</div>
												</div>
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Company Name</label>
															<div class="col-sm-8">
																<h4>{{contra.company_name}}</h4>
															</div>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Address line1</label>
															<div class="col-sm-8">
																<input type="text" name="add_line1" id="add_line1" class="form-control" value="{{contra.contractor_address.add_line1}}" required placeholder="Address line 1">
															</div>
													</div>
												</div>
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Address line2</label>
															<div class="col-sm-8">
																<input type="text" name="add_line2" id="add_line2" class="form-control" value="{{contra.contractor_address.add_line2}}" required placeholder="Address line 2">
															</div>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">City</label>
															<div class="col-sm-8">
																<input type="text" name="city" id="city" class="form-control" value="{{contra.contractor_address.city}}" required placeholder="City">
															</div>
													</div>
												</div>
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">State</label>
															<div class="col-sm-8">
																<input type="text" name="state" id="state" class="form-control" value="{{contra.contractor_address.state}}" required placeholder="State">
															</div>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">Country</label>
															<div class="col-sm-8">
																<input type="text" name="country" id="country" class="form-control" value="{{contra.contractor_address.country}}" required placeholder="Country">
															</div>
													</div>
												</div>
												<div class="col-xl-6 col-lg-12 col-sm-12">
													<div class="form-group row">
															<label class="col-sm-4 col-form-label">zipcode</label>
															<div class="col-sm-8">
																<input type="number" name="zipcode" id="zipcode" class="form-control" minlength="6" maxlength="6" value="{{contra.contractor_address.zip_code}}" required placeholder="Zipcode">
															</div>
													</div>
												</div>
											</div>
											
										</div>
										<br>
										<button type="submit" class="btn btn-primary">Submit</button>
										<button type="reset" class="btn btn-secondary">Reset</button>
									
								</div>
							</form>
						</div>
					</div>					
					
				</div>
			</div>
		</div>
  	</div>
</div>

{% endblock %}

{% block extrajs %}
<!-- data table -->
<script type="text/javascript" src="{% static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'js/dataTables.buttons.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.bootstrap4.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.responsive.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/data-table-custom.js' %}" type="text/javascript"></script>

<script>
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('.show_contra_add_image').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$(".contra_add_image").change(function(){
    readURL(this);
});
</script>

<script type="text/javascript">
		$('#multi-colum-dt1').DataTable({
			columnDefs: [{
				targets: [0],
				orderData: [0, 1]
			}, {
				targets: [1],
				orderData: [1, 0]
			}, {
				targets: [2],
				orderData: [2, 0],
				
			}]
		});

		
		$('#multi-colum-dt2').DataTable({
			columnDefs: [{
				targets: [0],
				orderData: [0, 1]
			}, {
				targets: [1],
				orderData: [1, 0]
			}, {
				targets: [2],
				orderData: [2, 0],
				
			}]
		});

		
		
</script>

{% endblock %}